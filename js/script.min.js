"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)});var imagepopupcontainer=document.querySelector(".imagepopup"),imgpopuped=!1,imgpopupposition=0,popupClick=function(e){imagepopupcontainer.innerHTML="";var t=e.cloneNode();imagepopupcontainer.appendChild(t),imagepopupcontainer.classList.remove("hidden"),imgpopuped=!0,imgpopupposition=pageYOffset},popupCheck=function(e){e.onclick||(e.onclick=function(){return popupClick(e)})};document.querySelectorAll(".popuping").forEach((function(e){return e.onclick=function(){return popupClick(e)}})),imagepopupcontainer.onclick=function(){imgpopuped=!1,this.classList.add("hidden")},document.addEventListener("scroll",(function(){imgpopuped&&Math.abs(imgpopupposition-pageYOffset)>15&&(imgpopuped=!1,imagepopupcontainer.classList.add("hidden"))}));var gallerySwiper=new Swiper(".gallery__swiper",{direction:"horizontal",slidesPerView:2,breakpoints:{320:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:15},1100:{spaceBetween:20},1300:{spaceBetween:35},1500:{spaceBetween:45}},on:{init:function(){document.querySelectorAll(".gallery__swiper .popuping").forEach((function(e){popupCheck(e)}))},breakpoint:function(){document.querySelectorAll(".gallery__swiper .popuping").forEach((function(e){return popupCheck(e)}))}},loop:!0,navigation:{nextEl:".gallery__next",prevEl:".gallery__prev"}});gallerySwiper=new Swiper(".gallery__swiper2",{direction:"horizontal",slidesPerView:3,breakpoints:{320:{slidesPerView:2,spaceBetween:15},1100:{slidesPerView:2,spaceBetween:20},1300:{slidesPerView:3,spaceBetween:17.5},1500:{slidesPerView:3,spaceBetween:22.5}},on:{init:function(){document.querySelectorAll(".gallery__swiper2 .popuping").forEach((function(e){popupCheck(e)}))},breakpoint:function(){document.querySelectorAll(".gallery__swiper2 .popuping").forEach((function(e){return popupCheck(e)}))}},loop:!0,navigation:{nextEl:".gallery__next",prevEl:".gallery__prev"}});function getVideoHtml(e){return'<iframe height="100%" width="100%" src="'+e+'?autoplay=1" frameborder="0" allow="accelerometer; autoplay="1"; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}document.querySelectorAll(".youtubevideo").forEach((function(e){return e.onclick=function(){e.innerHTML+=getVideoHtml(e.getAttribute("data-link")),e.onclick=function(){return!1}}})),document.querySelectorAll(".interactive-trigger").forEach((function(e){return e.addEventListener("click",(function(){var t=e.getAttribute("data-target"),r=e.getAttribute("data-sel"),n=e.getAttribute("data-toggleclass"),o=e.getAttribute("data-detailsMode");return"this"==t&&(t=e),"parent"==t&&(t=e.parentNode),"grandparent"==t&&(t=e.parentNode.parentNode),t||(t=document),r?t.querySelectorAll(r).forEach((function(e){o&&e.classList.contains("details")&&(e.style.maxHeight?e.style.removeProperty("max-height"):e.style.maxHeight=e.scrollHeight+"px"),e.classList.toggle(n)})):t.classList.toggle(n)}))}));var prevScroll,button=document.getElementById("up"),visible=!1,topElem=document.querySelector("section.case");button.addEventListener("click",(function(){window.scroll({top:0,behavior:"smooth"})})),window.addEventListener("load",(function(){prevScroll=pageYOffset})),window.addEventListener("scroll",(function(){!visible&&prevScroll?pageYOffset<prevScroll&&topElem.getBoundingClientRect().bottom<0?(visible=!0,button.classList.add("visible")):(visible=!1,button.classList.remove("visible")):visible=!1,prevScroll=pageYOffset}));var parallaxPosition=function(){return document.querySelectorAll(".stickyparallax").forEach((function(e){var t=e.parentNode,r=t.getBoundingClientRect(),n=getComputedStyle(e),o=parseFloat(n.marginBottom),i=t.offsetHeight-o-e.offsetHeight;if(r.top>window.innerHeight-e.offsetHeight)return e.style.removeProperty("transform");if(r.top<-i)return e.style.setProperty("transform","translateY("+i+"px)");var l=i+window.innerHeight-e.offsetHeight,a=1-(r.top+i)/l;e.style.setProperty("transform","translateY("+i*a+"px)")}))};window.addEventListener("load",parallaxPosition),window.addEventListener("resize",parallaxPosition),document.addEventListener("scroll",parallaxPosition);var setCoords=function(e,t,r){if(e.style.setProperty("top",t.bottom+"px"),e.style.removeProperty("width"),t.left+e.offsetWidth<window.innerWidth?e.style.setProperty("left",t.left+"px"):e.style.setProperty("right","0px"),window.innerWidth<=r){for(var n=0,o=0;o<e.children.length;o++)e.children[o].offsetWidth>n&&(n=e.children[o].offsetWidth);e.style.setProperty("width",n+"px")}};document.querySelectorAll(".simplepopup").forEach((function(e){var t=e.getAttribute("data-trigger"),r=e.parentNode;if(e.remove(),document.body.appendChild(e),"click"==t&&(r.onclick=function(t){if(t.preventDefault(),e.classList.contains("active"))return e.classList.remove("active");setCoords(e,r.getBoundingClientRect(),r,0),e.classList.add("active")}),"hover"==t){var n=!1,o=!1,i=0,l=function(){e.classList.remove("active"),r.classList.remove("active"),i=0},a=function(){e.classList.add("active"),r.classList.add("active"),setCoords(e,r.children[0].getBoundingClientRect(),r,500),i=(new Date).getTime()};r.onclick=function(e){e.preventDefault(),n&&!i&&(a(),console.log("chickshow")),i&&(new Date).getTime()-i>300&&(l(),console.log("clickhide"))},e.onclick=function(e){e.preventDefault(),o&&!i&&(a(),console.log("chickshow")),i&&(new Date).getTime()-i>300&&(l(),console.log("clickhide"))},r.onmouseenter=function(){n=!0,e.classList.contains("active")||a()},r.onmouseleave=function(){(n=!1)||o||l()},e.onmouseenter=function(){o=!0,e.classList.contains("active")||a()},e.onmouseleave=function(){o=!1,n||o||l()}}})),window.addEventListener("resize",(function(){return document.querySelectorAll(".simplepopup,.subnav__link.active").forEach((function(e){e.classList.remove("active"),e.style.removeProperty("right"),e.style.removeProperty("left"),e.style.removeProperty("top")}))})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)});var l,r,ROffset,LArrow=document.querySelector(".tags-linewrapper-leftarrow"),RArrow=document.querySelector(".tags-linewrapper-rightarrow"),LineWrapper=document.querySelector(".tags-linewrapper-content"),Line=document.querySelector(".tags-linewrapper:first-child .tags-line"),LOffset=0,currentOffset=0;function tagsData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=LineWrapper.getBoundingClientRect(),n=t.left+parseInt(getComputedStyle(LineWrapper).paddingLeft)-4,o=t.right-parseInt(getComputedStyle(LineWrapper).paddingRight)-15;r=-1,l=-1;for(var i=0;i<Line.children.length;i++)Line.children[i].getBoundingClientRect().right>o+e&&-1==r&&(r=i,ROffset=Math.ceil(Line.children[i].getBoundingClientRect().right-o-e)),Line.children[i].getBoundingClientRect().left<n+e&&i>l&&(l=i,LOffset=Math.ceil(n-Line.children[i].getBoundingClientRect().left+e));-1==l?(LOffset=0,LArrow.classList.add("tags-linewrapper-leftarrow_hidden")):LArrow.classList.remove("tags-linewrapper-leftarrow_hidden"),-1==r?(ROffset=0,RArrow.classList.add("tags-linewrapper-rightarrow_hidden")):RArrow.classList.remove("tags-linewrapper-rightarrow_hidden")}function scratchFooterTags(){var e;document.querySelectorAll(".footerTags-content-item").forEach((function(t){t.classList.remove("footerTags-content-item_notfirst");var r=t.getBoundingClientRect().bottom;null==e?e=r:r==e?t.classList.add("footerTags-content-item_notfirst"):e=r}))}tagsData(),RArrow.onclick=function(){var e=ROffset;tagsData(e),currentOffset-=e,Line.style.setProperty("transform","translateX("+currentOffset+"px)")},LArrow.onclick=function(){var e=LOffset;tagsData(-e),currentOffset+=e,Line.style.setProperty("transform","translateX("+currentOffset+"px)")},tagsData(),window.addEventListener("resize",(function(){scratchFooterTags()})),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})),window.addEventListener("load",(function(){scratchFooterTags()}));var subSwiper=document.querySelector(".subnav__swiper .swiper-wrapper"),getActive=function(){return subSwiper.querySelector(".swiper-slide-active")},count=1,elemCount=subSwiper.children.length,setMarginValue=function(e,t,r,n,o){for(var i=0,l=0,a=0,s=e;i<count;i++)l+=a=s.children[0].offsetWidth,s.style.setProperty("width",a+"px"),s=s.nextElementSibling;i=0;var c=(t-l)/(count-1),u=(t-l)/(count+1);if(u>=r){if(count==elemCount){for(var p=o;p<elemCount;p++)subSwiper.children[p].style.setProperty("margin-right",r+"px");return e.style.setProperty("margin-left","auto")}e.style.setProperty("margin-left",u+"px");for(var d=e;i<count;i++)d.style.setProperty("margin-right",u+"px"),i==count-1&&u<n&&d.style.setProperty("margin-right",n+"px"),d=d.nextElementSibling}else for(var f=e;i<count-1;i++)f.style.setProperty("margin-right",c+"px"),f=f.nextElementSibling},reset=function(e,t,r){e.style.setProperty("width",(t-r*(count-1))/count+"px"),e.style.setProperty("margin-right",r+"px"),e.style.removeProperty("margin-left")};function calculateAll(){for(var e=getActive(),t=0,r=0;r<elemCount;r++)subSwiper.children[r]==e&&(t=r),reset(subSwiper.children[r],subSwiper.offsetWidth,150);count<2||setMarginValue(e,subSwiper.offsetWidth,30,150,t)}var subnavSwiper=new Swiper(".subnav__swiper",{direction:"horizontal",slidesPerView:"auto",on:{init:function(){calculateAll();var e=document.createElement("style");e.type="text/css",e.innerHTML=".subnav__link { transition: .15s ease-out; }",setTimeout((function(){return document.getElementsByTagName("head")[0].appendChild(e)}),300)},resize:calculateAll,slideChangeTransitionStart:calculateAll,breakpoint:function(){count=1,window.innerWidth>=750&&(count=Math.min(2,elemCount)),window.innerWidth>=950&&(count=Math.min(3,elemCount)),window.innerWidth>=1300&&(count=Math.min(4,elemCount)),window.innerWidth>=1550&&(count=Math.min(5,elemCount)),count==elemCount?subSwiper.parentNode.parentNode.querySelectorAll(".subnav__right,.subnav__left").forEach((function(e){return e.classList.add("hidden")})):subSwiper.parentNode.parentNode.querySelectorAll(".subnav__right,.subnav__left").forEach((function(e){return e.classList.remove("hidden")}))}},spaceBetween:150,breakpoints:{320:{slidesPerView:1,allowTouchMove:elemCount>1},750:{slidesPerView:Math.min(2,elemCount),allowTouchMove:elemCount>2},950:{slidesPerView:Math.min(3,elemCount),allowTouchMove:elemCount>3},1300:{slidesPerView:Math.min(4,elemCount),allowTouchMove:elemCount>4},1550:{slidesPerView:Math.min(5,elemCount),allowTouchMove:elemCount>5}},navigation:{nextEl:".subnav__right",prevEl:".subnav__left"}}),textarea=document.querySelector(".calculation__form textarea");textarea.addEventListener("input",(function(){textarea.offsetHeight<textarea.scrollHeight?textarea.classList.add("overflow"):textarea.classList.remove("overflow")}));var burger=document.querySelector(".burger");burger.onclick=function(e){burger.classList.contains("active")?(window.scroll({top:0,behavior:"smooth"}),bodyScrollLock.disableBodyScroll(document.body)):bodyScrollLock.enableBodyScroll(document.body)},objectFitImages();